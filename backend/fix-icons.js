const { PrismaClient } = require('@prisma/client');
require('dotenv').config();

const prisma = new PrismaClient();

const updatedIcons = [
  {
    name: 'MySQL',
    svgIcon: '<svg viewBox="0 0 24 24" fill="currentColor"><path d="M16.405 5.501c-.115 0-.193.014-.274.033v.013h.014c.054.104.146.18.214.274.054.107.1.214.154.32l.014-.015c.094-.066.14-.172.14-.333-.04-.047-.046-.094-.08-.14-.04-.067-.126-.1-.18-.153zM5.77 18.695h-.927a50.854 50.854 0 00-.27-4.41h-.008l-1.41 4.41H2.45l-1.4-4.41h-.01a72.892 72.892 0 00-.195 4.41H.002c.055-1.966.192-3.81.41-5.53h1.15l1.335 4.064h.008l1.347-4.064h1.095c.242 2.015.384 3.86.428 5.53zm4.017-4.08c-.378 2.045-.876 3.533-1.492 4.46-.482.716-1.01 1.073-1.583 1.073-.153 0-.34-.046-.566-.138v-.494c.11.017.24.026.386.026.268 0 .483-.075.647-.222.197-.18.295-.382.295-.605 0-.155-.077-.47-.23-.944L6.23 14.615h.91l.727 2.36c.164.536.233.91.205 1.123.4-1.064.678-2.227.835-3.483zm12.325 4.08h-2.63v-5.53h.885v4.85h1.745zm-3.32.135l-1.016-.5c.09-.076.177-.158.255-.25.433-.506.648-1.258.648-2.253 0-1.83-.718-2.746-2.155-2.746-.704 0-1.254.232-1.65.697-.43.508-.646 1.256-.646 2.245 0 .972.19 1.686.574 2.14.35.41.877.615 1.583.615.264 0 .506-.033.725-.098l1.325.15zm-5.705-.772c-.678-.1-1.017-.396-1.017-1.188v-2.35c0-.668.295-.976.886-.976.25 0 .41.065.48.195.07.13.105.384.105.76v.58c0 .494-.039.808-.117.943-.078.135-.254.202-.528.202-.09 0-.178-.011-.265-.033v.867zm-1.692-.268c0 .618.179 1.062.537 1.33.358.268.82.402 1.386.402.572 0 1.004-.134 1.297-.402.292-.268.438-.712.438-1.33v-3.13c0-.618-.146-1.062-.438-1.33-.293-.268-.725-.402-1.297-.402-.566 0-1.028.134-1.386.402-.358.268-.537.712-.537 1.33v3.13zm9.382-2.38c0-.47-.172-.705-.516-.705-.344 0-.516.235-.516.705v2.38c0 .47.172.705.516.705.344 0 .516-.235.516-.705v-2.38z"/></svg>'
  },
  {
    name: 'REST API',
    svgIcon: '<svg viewBox="0 0 24 24" fill="currentColor"><path d="M3 3h18v2H3V3zm0 4h18v2H3V7zm0 4h18v2H3v-2zm0 4h18v2H3v-2zm0 4h18v2H3v-2z"/><circle cx="19" cy="5" r="1"/><circle cx="19" cy="9" r="1"/><circle cx="19" cy="13" r="1"/><circle cx="19" cy="17" r="1"/><circle cx="19" cy="21" r="1"/></svg>'
  }
];

async function updateIcons() {
  console.log('ðŸ”„ Updating MySQL and REST API icons...');
  
  for (const iconData of updatedIcons) {
    try {
      await prisma.skill.update({
        where: { name: iconData.name },
        data: { svgIcon: iconData.svgIcon }
      });
      console.log(`âœ… Updated ${iconData.name} icon`);
    } catch (error) {
      console.error(`âŒ Error updating ${iconData.name}:`, error.message);
    }
  }
  
  console.log('âœ… Icons updated successfully!');
}

updateIcons()
  .catch(console.error)
  .finally(() => prisma.$disconnect());